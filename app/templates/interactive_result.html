{% extends 'base.html' %}

{% block title %}Prompt Optimization Web App{% endblock %}

{% block content %}
<h2>Interactive Optimized Prompt:</h2>

<div class="mb-3 text-start">
  <div class="d-flex align-items-start">
    <div
      id="interactivePrompt"
      class="alert alert-secondary flex-grow-1"
      style="white-space: pre-wrap;"
    >{{ analysis }}</div>
    <button
      id="copyBtn"
      class="btn btn-secondary ms-2"
      type="button"
    >Copy</button>
  </div>

  <p class="mt-2 mb-0">
  <a
    href="https://forms.office.com/e/vM7W04GBxg"
    class="link-dark text-decoration-none"
    target="_blank"
    rel="noopener"
  >
    <span style="color:#dc3545; font-weight:700;">ðŸ’¬ Got a minute? <u>CLICK HERE</u> and share your feedback on the Prompt Optimizer web app</span> â€” I promise it wonâ€™t even take a minute ðŸ˜„
  </a>
  </p>



</div>

{% endblock %}

{% block extra_scripts %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const copyBtn = document.getElementById('copyBtn');
    const interactivePrompt = document.getElementById('interactivePrompt');
    if (copyBtn && interactivePrompt) {
      copyBtn.addEventListener('click', function() {
        const text = interactivePrompt.innerText;
        navigator.clipboard.writeText(text)
          .then(() => {
            copyBtn.textContent = 'Copied!';
            setTimeout(() => { copyBtn.textContent = 'Copy'; }, 2000);
          })
          .catch(err => {
            console.error('Copy failed', err);
          });
      });
    }
  });
</script>
{% endblock %}
